<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIRD Quest - Le Village Num√©rique R√©sistant</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/battle-animations.css">
    <link rel="stylesheet" href="css/level2-battle.css">
    <!-- Caveat Font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gloria+Hallelujah&family=Indie+Flower&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Particles Background -->
    <div class="particles" id="particles"></div>
    
    <!-- Main Container -->
    <div class="app-container">
<!-- Level Progress Tracker (visible during game) -->
<div class="level-progress collapsed" id="level-progress" style="display: none;">
    <div class="level-progress-header">
        <span>üìä</span>
        <span>Your Journey</span>
    </div>
    
    <div class="current-level" id="current-level-toggle">
        <span class="current-level-icon">‚öîÔ∏è</span>
        <div class="current-level-text">
            <span class="current-level-name" id="current-level-name">Level 1: Basics</span>
            <span class="current-level-desc">In Progress...</span>
        </div>
        <span class="expand-icon">‚ñº</span>
    </div>
    
    <div class="next-levels">
        <div class="next-level-item unlocked" data-level="2" onclick="switchLevel(2)">
            <span class="level-icon">üõ°Ô∏è</span>
            <div class="level-info">
                <span class="level-name">Level 2: Advanced</span>
                <span class="level-reward">Reward: +100 ü™ô</span>
            </div>
            <span class="lock-icon">üîí</span>
            <span class="unlock-icon">‚úì</span>
        </div>
        
        <div class="next-level-item locked" data-level="3">
            <span class="level-icon">üëë</span>
            <div class="level-info">
                <span class="level-name">Level 3: Expert</span>
                <span class="level-reward">Reward: +200 ü™ô</span>
            </div>
            <span class="lock-icon">üîí</span>
            <span class="unlock-icon">‚úì</span>
        </div>
        
        <div class="next-level-item locked" data-level="4">
            <span class="level-icon">üèÜ</span>
            <div class="level-info">
                <span class="level-name">Level 4: Master</span>
                <span class="level-reward">Reward: +500 ü™ô</span>
            </div>
            <span class="lock-icon">üîí</span>
            <span class="unlock-icon">‚úì</span>
        </div>
    </div>
</div>
        <!-- Screen 1: Welcome -->
        <section id="welcome-screen" class="screen active">
            <div class="logo-container animate-float">
                <div class="logo">
                    <span class="logo-n">N</span>
                    <span class="logo-i">I</span>
                    <span class="logo-r">R</span>
                    <span class="logo-d">D</span>
                </div>
                <div class="logo-subtitle">Num√©rique Inclusif Responsable Durable</div>
            </div>
            
            <h1 class="main-title animate-slide-up">
                <span class="title-line">Le Village</span>
                <span class="title-line accent">Num√©rique R√©sistant</span>
            </h1>
            
            <p class="tagline animate-fade-in">
                üè∞ Ast√©rix contre l'Empire num√©rique
            </p>
            
            <div class="welcome-description animate-fade-in-delay">
                <p>Votre √©tablissement scolaire peut-il r√©sister aux Big Tech ?</p>
                <p>Testez vos connaissances et affrontez les g√©ants du num√©rique !</p>
            </div>
            
            <div class="coin-preview animate-pulse">
                <div class="coin-icon">ü™ô</div>
                <span>Gagnez des NIRD Coins et faites triompher le num√©rique responsable !</span>
            </div>
            
            <button class="btn-primary animate-bounce-in" onclick="startGame()">
                <span class="btn-icon">‚öîÔ∏è</span>
                Commencer le Combat
                <span class="btn-arrow">‚Üí</span>
            </button>
            
            <div class="footer-links">
                <a href="#" onclick="showLearnMore()">En savoir plus sur NIRD</a>
                <span class="separator">‚Ä¢</span>
                <a href="https://nird.forge.apps.education.fr/" target="_blank">Site officiel</a>
            </div>
        </section>
        
        <!-- Screen 2: Quiz Game -->
        <section id="game-screen" class="screen">
            <header class="game-header">
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <span class="progress-text" id="progress-text">Question 1/10</span>
                </div>
                
                <div class="score-display">
                    <div class="coin-counter">
                        <span class="coin-icon-small">ü™ô</span>
                        <span id="score">0</span>
                        <span class="coin-label">NIRD Coins</span>
                    </div>
                </div>
            </header>
            
            <!-- Battle Arena -->
            <div id="battle-arena">
                <!-- Battle content will be injected by JS -->
            </div>
            
            <main class="question-container">
                <div class="question-card" id="question-card">
                    <div class="question-number" id="question-number">Q1</div>
                    <h2 class="question-text" id="question-text">
                        Chargement de la question...
                    </h2>
                    
                    <div class="scenario-context" id="scenario-context">
                        <!-- Context will be injected here -->
                    </div>
                </div>
                
                <div class="choices-container" id="choices-container">
                    <!-- Choices will be injected here -->
                </div>
            </main>
            
            <!-- Feedback Modal -->
            <div class="feedback-modal" id="feedback-modal">
                <div class="feedback-content" id="feedback-content">
                    <div class="feedback-icon" id="feedback-icon">‚úì</div>
                    <h3 class="feedback-title" id="feedback-title">Bonne r√©ponse !</h3>
                    <div class="points-change" id="points-change">+40 ü™ô</div>
                    
                    <div class="nird-card" id="nird-card">
                        <div class="nird-card-header">
                            <span class="nird-badge">üí° Carte NIRD</span>
                        </div>
                        <div class="nird-card-content" id="nird-card-content">
                            <!-- NIRD info will be injected here -->
                        </div>
                    </div>
                    
                    <button class="btn-secondary" onclick="nextQuestion()">
                        Continuer
                        <span class="btn-arrow">‚Üí</span>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Screen 3: Results -->
        <section id="results-screen" class="screen">
            <div class="results-container">
                <div class="rank-badge animate-pop" id="rank-badge">
                    <!-- Rank icon will be injected -->
                </div>
                
                <h2 class="results-title" id="results-title">F√©licitations !</h2>
                
                <div class="final-score">
                    <div class="score-circle" id="score-circle">
                        <span class="score-value" id="final-score">0</span>
                        <span class="score-label">NIRD Coins</span>
                    </div>
                </div>
                
                <div class="rank-title" id="rank-title">
                    <!-- Rank title will be injected -->
                </div>
                
                <div class="rank-description" id="rank-description">
                    <!-- Rank description will be injected -->
                </div>
                
                <!-- Winner Display -->
                <div id="winner-display">
                    <!-- Battle winner will be displayed here -->
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-icon">‚úÖ</span>
                        <span class="stat-value" id="correct-count">0</span>
                        <span class="stat-label">Bonnes r√©ponses</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-icon">‚ùå</span>
                        <span class="stat-value" id="wrong-count">0</span>
                        <span class="stat-label">√Ä am√©liorer</span>
                    </div>
                </div>
                
                <div class="results-actions">
                    <button class="btn-primary" onclick="restartGame()">
                        <span class="btn-icon">üîÑ</span>
                        Rejouer
                    </button>
                    <button class="btn-secondary" onclick="showLearnMore()">
                        <span class="btn-icon">üìö</span>
                        En savoir plus sur NIRD
                    </button>
                </div>
                
                <div class="share-section">
                    <p>Partagez votre r√©sultat :</p>
                    <div class="share-buttons">
                        <button class="share-btn" onclick="shareResult()">
                            üì§ Partager
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Screen 4: Learn NIRD -->
        <section id="learn-screen" class="screen">
            <button class="back-btn" onclick="goBack()">
                ‚Üê Retour
            </button>
            
            <h2 class="learn-title">
                <span class="learn-icon">üå±</span>
                D√©couvrez la d√©marche NIRD
            </h2>
            
            <div class="pillars-grid">
                <div class="pillar-card" data-pillar="n">
                    <div class="pillar-icon">üî¢</div>
                    <h3>Num√©rique</h3>
                    <p>Adopter des outils num√©riques libres et ouverts pour une meilleure ma√Ætrise technologique.</p>
                    <ul class="pillar-examples">
                        <li>Linux au lieu de Windows</li>
                        <li>LibreOffice au lieu de Microsoft Office</li>
                        <li>Firefox au lieu de Chrome</li>
                    </ul>
                </div>
                
                <div class="pillar-card" data-pillar="i">
                    <div class="pillar-icon">ü§ù</div>
                    <h3>Inclusif</h3>
                    <p>Rendre le num√©rique accessible √† tous, en luttant contre la fracture num√©rique.</p>
                    <ul class="pillar-examples">
                        <li>Reconditionnement pour les familles</li>
                        <li>Outils d'accessibilit√© int√©gr√©s</li>
                        <li>Formation pour tous</li>
                    </ul>
                </div>
                
                <div class="pillar-card" data-pillar="r">
                    <div class="pillar-icon">üõ°Ô∏è</div>
                    <h3>Responsable</h3>
                    <p>Prot√©ger les donn√©es personnelles et s'√©manciper des g√©ants du num√©rique.</p>
                    <ul class="pillar-examples">
                        <li>Respect du RGPD</li>
                        <li>Pas de collecte de donn√©es</li>
                        <li>Souverainet√© num√©rique</li>
                    </ul>
                </div>
                
                <div class="pillar-card" data-pillar="d">
                    <div class="pillar-icon">‚ôªÔ∏è</div>
                    <h3>Durable</h3>
                    <p>Prolonger la vie des √©quipements et r√©duire l'empreinte √©cologique.</p>
                    <ul class="pillar-examples">
                        <li>Reconditionnement des PC</li>
                        <li>Linux prolonge la vie de 5-10 ans</li>
                        <li>Sobri√©t√© num√©rique</li>
                    </ul>
                </div>
            </div>
            
            <div class="cta-section">
                <h3>Rejoignez le mouvement !</h3>
                <p>Plus de 12 lyc√©es, 5 coll√®ges et 2 √©coles sont d√©j√† engag√©s dans la d√©marche NIRD.</p>
                <div class="cta-buttons">
                    <a href="https://nird.forge.apps.education.fr/" target="_blank" class="btn-primary">
                        Visiter le site NIRD
                    </a>
                    <a href="https://nird.forge.apps.education.fr/pilotes/" target="_blank" class="btn-secondary">
                        Voir les √©tablissements pilotes
                    </a>
                </div>
            </div>
        </section>
        <!-- ==========================================
     ADD THIS HTML TO index.html
     Location: Inside .app-container, after all screens, before </div>
     ========================================== -->

<!-- Battle Animation Overlay -->
<div class="battle-overlay" id="battle-overlay">
    <!-- Battle Title -->
    <div class="battle-title">
        <h2 id="battle-title-text">Epic Showdown</h2>
        <p id="battle-subtitle">The battle begins...</p>
    </div>
    
    <!-- Health Bars (shown during fight phase) -->
    <div class="health-bars" id="health-bars" style="display: none;">
        <div class="health-bar-container">
            <div class="health-bar-label">
                <div class="health-bar-icon nird"></div>
                <span>NIRD</span>
            </div>
            <div class="health-bar">
                <div class="health-bar-fill nird" id="nird-health" style="width: 100%;"></div>
            </div>
        </div>
        <div class="health-bar-container">
            <div class="health-bar-label right">
                <span>Big Tech</span>
                <div class="health-bar-icon bigtech"></div>
            </div>
            <div class="health-bar">
                <div class="health-bar-fill bigtech" id="bigtech-health" style="width: 100%;"></div>
            </div>
        </div>
    </div>
    
    <!-- Battle Arena -->
    <div class="battle-arena" id="battle-arena">
        <div class="battle-ground"></div>
        
        <!-- NIRD Fighter (Left) -->
        <div class="fighter-container" id="nird-fighter">
            <div class="speech-bubble nird-bubble" id="nird-speech" style="display: none;">
                <p>I fight for freedom and sustainability!</p>
            </div>
            <svg width="120" height="180" viewBox="0 0 120 180" id="nird-svg">
                <!-- Hat -->
                <g class="fighter-hat">
                    <path d="M 40 25 Q 38 22 42 20 L 75 18 Q 78 20 76 24 L 72 35 L 44 37 Z"
                        fill="#2ECC71" stroke="#2c2c2c" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                </g>
                <!-- Head -->
                <circle cx="60" cy="50" r="18" fill="white" stroke="#2c2c2c" stroke-width="3"/>
                <!-- Eyes -->
                <circle cx="53" cy="48" r="3" fill="#2c2c2c" class="eye-normal"/>
                <circle cx="67" cy="48" r="3" fill="#2c2c2c" class="eye-normal"/>
                <!-- Happy eyes (hidden by default) -->
                <path d="M 48 48 Q 53 51 58 48" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="eye-happy" style="display: none;"/>
                <path d="M 62 48 Q 67 51 72 48" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="eye-happy" style="display: none;"/>
                <!-- Victory smile (hidden by default) -->
                <path d="M 48 56 Q 60 64 72 56" stroke="#2c2c2c" stroke-width="2.5" fill="none" stroke-linecap="round" class="mouth-happy" style="display: none;"/>
                <!-- Body -->
                <path d="M 60 68 Q 62 90 60 110" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="body"/>
                <!-- Arms -->
                <path d="M 60 75 Q 40 80 35 95" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="left-arm"/>
                <path d="M 60 75 Q 80 80 85 95" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="right-arm"/>
                <!-- Legs -->
                <path d="M 60 110 Q 50 130 45 150" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="left-leg"/>
                <path d="M 60 110 Q 70 130 75 150" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="right-leg"/>
            </svg>
            <div class="pow-effect" id="nird-pow">POW!</div>
        </div>
        
        <!-- Big Tech Fighter (Right) -->
        <div class="fighter-container" id="bigtech-fighter" style="transform: scaleX(-1);">
            <div class="speech-bubble bigtech-bubble" id="bigtech-speech" style="display: none; transform: scaleX(-1);">
                <p>Your data belongs to us! Resistance is futile!</p>
            </div>
            <svg width="120" height="180" viewBox="0 0 120 180" id="bigtech-svg">
                <!-- Devil Horns -->
                <g class="fighter-hat">
                    <path d="M 45 35 Q 42 25 38 20 Q 40 22 45 30" fill="#dc2626" stroke="#2c2c2c" stroke-width="2.5"/>
                    <path d="M 75 35 Q 78 25 82 20 Q 80 22 75 30" fill="#dc2626" stroke="#2c2c2c" stroke-width="2.5"/>
                </g>
                <!-- Head -->
                <circle cx="60" cy="50" r="18" fill="#d1d5db" stroke="#2c2c2c" stroke-width="3"/>
                <!-- Evil Eyes -->
                <path d="M 48 46 L 56 50 M 48 50 L 56 48" stroke="#dc2626" stroke-width="3" stroke-linecap="round" class="eye-evil"/>
                <path d="M 64 46 L 72 50 M 64 50 L 72 48" stroke="#dc2626" stroke-width="3" stroke-linecap="round" class="eye-evil"/>
                <circle cx="52" cy="48" r="2" fill="#dc2626"/>
                <circle cx="68" cy="48" r="2" fill="#dc2626"/>
                <!-- X eyes for defeated (hidden) -->
                <path d="M 49 46 L 57 52 M 49 52 L 57 46" stroke="#2c2c2c" stroke-width="3" stroke-linecap="round" class="eye-defeated" style="display: none;"/>
                <path d="M 63 46 L 71 52 M 63 52 L 71 46" stroke="#2c2c2c" stroke-width="3" stroke-linecap="round" class="eye-defeated" style="display: none;"/>
                <!-- Evil Eyebrows -->
                <path d="M 46 43 Q 50 40 54 42" stroke="#2c2c2c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                <path d="M 66 42 Q 70 40 74 43" stroke="#2c2c2c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                <!-- Evil Grin -->
                <path d="M 48 56 Q 60 62 72 56" stroke="#2c2c2c" stroke-width="2.5" fill="none" stroke-linecap="round"/>
                <path d="M 54 58 L 54 60 M 60 59 L 60 61 M 66 58 L 66 60" stroke="#2c2c2c" stroke-width="2" stroke-linecap="round"/>
                <!-- Body -->
                <path d="M 60 68 Q 62 90 60 110" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="body"/>
                <!-- Arms -->
                <path d="M 60 75 Q 40 80 35 95" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="left-arm"/>
                <path d="M 60 75 Q 80 80 85 95" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="right-arm"/>
                <!-- Legs -->
                <path d="M 60 110 Q 50 130 45 150" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="left-leg"/>
                <path d="M 60 110 Q 70 130 75 150" stroke="#2c2c2c" stroke-width="3" fill="none" stroke-linecap="round" class="right-leg"/>
            </svg>
            <div class="pow-effect" id="bigtech-pow" style="transform: scaleX(-1);">POW!</div>
        </div>
    </div>
    
    <!-- Skip Button -->
      <button class="skip-battle-btn" id="skip-battle" onclick="skipBattle()">Skip ‚è≠Ô∏è</button>
</div>
<!-- Level 2 Battle Overlay -->
<div class="level2-battle-overlay" id="level2-battle-overlay">
    <div class="level2-battle-header">
        <h2>üè¢ The Digital Battle</h2>
        <p>Big Tech vs NIRD - Answer wisely!</p>
    </div>
    
    <div class="level2-arena">
        <!-- Big Tech Side -->
        <div class="building-side bigtech-side">
            <div class="building bigtech-building" id="bigtech-building">
                <div class="building-roof"></div>
                <div class="building-body">
                    <div class="windows-grid" id="bigtech-windows"></div>
                    <div class="building-logo">üè¢</div>
                </div>
                <div class="building-damage-overlay"></div>
            </div>
            <div class="warrior bigtech-warrior" id="bigtech-warrior">
                <div class="warrior-body"></div>
                <div class="warrior-weapon">‚öîÔ∏è</div>
            </div>
            <div class="health-bar-wrapper">
                <div class="health-label">Big Tech</div>
                <div class="health-bar"><div class="health-fill bigtech" id="bigtech-health-fill"></div></div>
                <div class="health-text" id="bigtech-health-text">100%</div>
            </div>
        </div>
        
        <!-- VS Badge -->
        <div class="vs-badge">VS</div>
        
        <!-- NIRD Side -->
        <div class="building-side nird-side">
            <div class="building nird-building" id="nird-building">
                <div class="building-roof nird"></div>
                <div class="building-body nird">
                    <div class="windows-grid" id="nird-windows"></div>
                    <div class="building-logo">üå±</div>
                </div>
                <div class="building-damage-overlay"></div>
            </div>
            <div class="warrior nird-warrior" id="nird-warrior">
                <div class="warrior-body"></div>
                <div class="warrior-weapon">üõ°Ô∏è</div>
            </div>
            <div class="health-bar-wrapper">
                <div class="health-label">NIRD</div>
                <div class="health-bar"><div class="health-fill nird" id="nird-health-fill"></div></div>
                <div class="health-text" id="nird-health-text">100%</div>
            </div>
        </div>
    </div>
    
    <!-- Question Cloud at Bottom -->
    <div class="question-cloud" id="level2-question-cloud" style="display: none;">
        <div class="cloud-shape">
            <div class="question-number-badge" id="level2-question-number">Q1</div>
            <h3 class="cloud-question-text" id="level2-question-text">Question appears here...</h3>
            
            <div class="cloud-choices" id="level2-choices">
                <!-- Choices will be injected here -->
            </div>
        </div>
    </div>
    
    <div class="level2-controls">
        <div class="turn-counter">Turn: <span id="level2-turn">0</span></div>
    </div>
</div>

<!-- Level 2 Victory Screen -->
<div class="level2-victory-overlay" id="level2-victory-overlay">
    <div class="victory-content" id="level2-victory-content">
        <div class="victory-trophy">üèÜ</div>
        <h2 class="victory-title" id="level2-victory-title">Victory!</h2>
        <p class="victory-winner" id="level2-victory-winner">NIRD Wins!</p>
        <div class="victory-message" id="level2-victory-message"></div>
        <button class="btn-primary" onclick="closeLevel2Victory()">Continue ‚Üí</button>
    </div>
</div>


<!-- Result Popup (Win/Lose message) -->
<div class="result-popup" id="result-popup">
    <div class="result-popup-content" id="result-popup-content">
        <div class="result-icon" id="result-icon">üéâ</div>
        <h3 class="result-title" id="result-title">NIRD Wins!</h3>
        <p class="result-message" id="result-message">
            Yeay! You're on the right path to digital resistance!
        </p>
        <button class="btn-primary" onclick="closeResultPopup()">
            Continue <span class="btn-arrow">‚Üí</span>
        </button>
    </div>
</div>
    </div>
    
    <!-- Audio effects (optional) -->
    <audio id="sound-correct" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQYPaL/teleQJyGr+mV1v" type="audio/wav">
    </audio>
    <audio id="sound-wrong" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQYPaL/teleQJyGr+mV1v" type="audio/wav">
    </audio>
   <script src="js/questions.js"></script>
<!-- <script src="js/questions-level2.js"></script> -->

<script src="js/game.js"></script>
<script src="js/battle.js"></script>
<script src="js/questions-level2.js"></script>
<script src="js/level2-battle.js"></script>
<!-- <script src="js/level2-battle.js"></script> -->
<script src="js/animations.js"></script>
</body>
</html>
